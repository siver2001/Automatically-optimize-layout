# ğŸ¯ TÃ­nh NÄƒng KÃ©o Tháº£ & Chá»‰nh Sá»­a Layout

## ğŸ“‹ Tá»•ng Quan

Há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c nÃ¢ng cáº¥p vá»›i kháº£ nÄƒng chá»‰nh sá»­a layout trá»±c tiáº¿p báº±ng cÃ¡ch kÃ©o tháº£, giá»‘ng nhÆ° AutoCAD. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘iá»u chá»‰nh vá»‹ trÃ­ cÃ¡c hÃ¬nh chá»¯ nháº­t sau khi thuáº­t toÃ¡n tá»‘i Æ°u Ä‘Ã£ sáº¯p xáº¿p.

---

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### 1. **Cháº¿ Äá»™ Chá»‰nh Sá»­a (Edit Mode)**
- Báº­t/táº¯t báº±ng nÃºt "Báº­t Chá»‰nh Sá»­a" / "Äang Chá»‰nh Sá»­a"
- Khi báº­t, táº¥t cáº£ cÃ¡c hÃ¬nh chá»¯ nháº­t cÃ³ thá»ƒ kÃ©o tháº£
- Hiá»ƒn thá»‹ cÃ¡c cÃ´ng cá»¥ chá»‰nh sá»­a nÃ¢ng cao

### 2. **KÃ©o Tháº£ (Drag & Drop)**
- **CÃ¡ch sá»­ dá»¥ng:** Click vÃ  giá»¯ chuá»™t trÃ¡i, kÃ©o hÃ¬nh Ä‘áº¿n vá»‹ trÃ­ mong muá»‘n
- **Trá»±c quan:** HÃ¬nh sáº½ cÃ³ hiá»‡u á»©ng phÃ³ng to nháº¹ khi Ä‘ang kÃ©o
- **Smooth:** Di chuyá»ƒn mÆ°á»£t mÃ  vá»›i transition

### 3. **Tá»± Äá»™ng Canh Chá»‰nh (Auto-Snap)**
- **Grid Snapping:** Tá»± Ä‘á»™ng cÄƒn chá»‰nh theo lÆ°á»›i 50mm
- **Edge Snapping:** CÄƒn theo cáº¡nh cá»§a cÃ¡c hÃ¬nh khÃ¡c
- **Center Alignment:** CÄƒn giá»¯a vá»›i cÃ¡c hÃ¬nh khÃ¡c
- **Äá»™ nháº¡y:** CÃ³ thá»ƒ Ä‘iá»u chá»‰nh Ä‘á»™ nháº¡y snap (5-30px)

### 4. **Chá»n Nhiá»u HÃ¬nh (Multi-Selection)**
- **CÃ¡ch 1:** Giá»¯ `Ctrl` (hoáº·c `Cmd` trÃªn Mac) + Click Ä‘á»ƒ chá»n nhiá»u hÃ¬nh
- **CÃ¡ch 2:** Click vÃ o vÃ¹ng trá»‘ng Ä‘á»ƒ bá» chá»n táº¥t cáº£
- **Trá»±c quan:** CÃ¡c hÃ¬nh Ä‘Ã£ chá»n cÃ³ viá»n vÃ ng vÃ  gÃ³c trÃ²n

### 5. **CÃ´ng Cá»¥ CÄƒn Chá»‰nh**
- **CÄƒn TrÃ¡i (â¬…ï¸):** CÄƒn táº¥t cáº£ cÃ¡c hÃ¬nh Ä‘Ã£ chá»n vá» cáº¡nh trÃ¡i
- **CÄƒn Giá»¯a (â†•ï¸):** CÄƒn giá»¯a theo chiá»u dá»c
- **CÄƒn TrÃªn (â¬†ï¸):** CÄƒn táº¥t cáº£ lÃªn cáº¡nh trÃªn
- **YÃªu cáº§u:** Pháº£i chá»n Ã­t nháº¥t 2 hÃ¬nh

### 6. **Xoay HÃ¬nh (Rotate)**
- Click nÃºt "ğŸ”„ Xoay" Ä‘á»ƒ xoay 90Â° cÃ¡c hÃ¬nh Ä‘Ã£ chá»n
- Tá»± Ä‘á»™ng hoÃ¡n Ä‘á»•i chiá»u rá»™ng vÃ  chiá»u dÃ i
- Cáº­p nháº­t tráº¡ng thÃ¡i `rotated`

### 7. **XÃ³a HÃ¬nh (Delete)**
- Click nÃºt "ğŸ—‘ï¸ XÃ³a" Ä‘á»ƒ xÃ³a cÃ¡c hÃ¬nh Ä‘Ã£ chá»n
- CÃ³ xÃ¡c nháº­n trÆ°á»›c khi xÃ³a
- KhÃ´ng thá»ƒ hoÃ n tÃ¡c (nÃªn lÆ°u trÆ°á»›c khi xÃ³a)

### 8. **LÆ°u & Há»§y Thay Äá»•i**
- **ğŸ’¾ LÆ°u:** LÆ°u táº¥t cáº£ thay Ä‘á»•i vÃ o há»‡ thá»‘ng
- **âŒ Há»§y:** HoÃ n tÃ¡c táº¥t cáº£ thay Ä‘á»•i chÆ°a lÆ°u
- **Cáº£nh bÃ¡o:** Há»‡ thá»‘ng sáº½ thÃ´ng bÃ¡o khi cÃ³ thay Ä‘á»•i chÆ°a lÆ°u

---

## ğŸ® HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

### BÆ°á»›c 1: KÃ­ch Hoáº¡t Cháº¿ Äá»™ Chá»‰nh Sá»­a
1. Sau khi thuáº­t toÃ¡n sáº¯p xáº¿p xong, click nÃºt **"Báº­t Chá»‰nh Sá»­a"**
2. Giao diá»‡n sáº½ chuyá»ƒn sang mÃ u xanh vÃ  hiá»ƒn thá»‹ cÃ¡c cÃ´ng cá»¥

### BÆ°á»›c 2: Di Chuyá»ƒn HÃ¬nh
1. Click vÃ o hÃ¬nh muá»‘n di chuyá»ƒn (hÃ¬nh sáº½ cÃ³ viá»n vÃ ng)
2. Giá»¯ chuá»™t trÃ¡i vÃ  kÃ©o Ä‘áº¿n vá»‹ trÃ­ mong muá»‘n
3. Tháº£ chuá»™t Ä‘á»ƒ Ä‘áº·t hÃ¬nh

### BÆ°á»›c 3: Sá»­ Dá»¥ng Auto-Snap
- Khi kÃ©o hÃ¬nh, cÃ¡c Ä‘Æ°á»ng canh chá»‰nh mÃ u xanh lÃ¡ sáº½ xuáº¥t hiá»‡n
- **Xanh lÃ¡ (Grid):** Äang snap vá»›i lÆ°á»›i
- **Xanh dÆ°Æ¡ng (Align):** Äang cÄƒn vá»›i hÃ¬nh khÃ¡c
- HÃ¬nh sáº½ tá»± Ä‘á»™ng "dÃ­nh" vÃ o vá»‹ trÃ­ gáº§n nháº¥t

### BÆ°á»›c 4: Chá»n Nhiá»u & CÄƒn Chá»‰nh
1. Giá»¯ `Ctrl` vÃ  click vÃ o cÃ¡c hÃ¬nh muá»‘n chá»n
2. Click nÃºt cÄƒn chá»‰nh (TrÃ¡i, Giá»¯a, TrÃªn) Ä‘á»ƒ sáº¯p xáº¿p
3. CÃ¡c hÃ¬nh sáº½ tá»± Ä‘á»™ng di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­ cÄƒn chá»‰nh

### BÆ°á»›c 5: LÆ°u Káº¿t Quáº£
1. Sau khi hoÃ n thÃ nh chá»‰nh sá»­a, click **"ğŸ’¾ LÆ°u"**
2. Há»‡ thá»‘ng sáº½ lÆ°u layout má»›i
3. CÃ³ thá»ƒ thoÃ¡t cháº¿ Ä‘á»™ chá»‰nh sá»­a báº±ng nÃºt **"âŒ Há»§y"**

---

## âŒ¨ï¸ PhÃ­m Táº¯t (Keyboard Shortcuts)

| PhÃ­m | Chá»©c nÄƒng |
|------|-----------|
| `Ctrl + Click` | Chá»n/bá» chá»n nhiá»u hÃ¬nh |
| `Delete` | XÃ³a hÃ¬nh Ä‘Ã£ chá»n *(coming soon)* |
| `Ctrl + Z` | HoÃ n tÃ¡c *(coming soon)* |
| `Ctrl + Y` | LÃ m láº¡i *(coming soon)* |
| `R` | Xoay 90Â° *(coming soon)* |
| `Escape` | Bá» chá»n táº¥t cáº£ *(coming soon)* |

---

## ğŸ¨ Giao Diá»‡n & Trá»±c Quan

### MÃ u Sáº¯c Snap Lines
- **ğŸŸ¢ Xanh LÃ¡:** Grid snapping (lÆ°á»›i 50mm)
- **ğŸ”µ Xanh DÆ°Æ¡ng:** Edge alignment (cÄƒn cáº¡nh)
- **ğŸŸ¡ VÃ ng:** Selected rectangles (Ä‘Ã£ chá»n)

### Tráº¡ng ThÃ¡i HÃ¬nh
- **BÃ¬nh ThÆ°á»ng:** Border tráº¯ng, cÃ³ shadow nháº¹
- **Hover:** Scale 1.02x, shadow Ä‘áº­m hÆ¡n
- **Äang KÃ©o:** Scale 1.05x, opacity 70%
- **ÄÃ£ Chá»n:** Border vÃ ng 4px, cÃ³ 4 gÃ³c trÃ²n vÃ ng

---

## ğŸ”§ Cáº¥u HÃ¬nh NÃ¢ng Cao

### Äiá»u Chá»‰nh Äá»™ Nháº¡y Snap
1. Trong cháº¿ Ä‘á»™ chá»‰nh sá»­a, tÃ¬m thanh trÆ°á»£t "Äá»™ nháº¡y"
2. KÃ©o sang trÃ¡i = Ã­t nháº¡y hÆ¡n (5px)
3. KÃ©o sang pháº£i = nháº¡y hÆ¡n (30px)
4. Máº·c Ä‘á»‹nh: 10px

### Táº¯t Auto-Snap
- Bá» tick Ã´ "Tá»± Ä‘á»™ng canh"
- HÃ¬nh sáº½ di chuyá»ƒn tá»± do khÃ´ng bá»‹ snap

---

## ğŸ› Xá»­ LÃ½ Lá»—i & Giá»›i Háº¡n

### Giá»›i Háº¡n Hiá»‡n Táº¡i
- âš ï¸ KhÃ´ng kiá»ƒm tra chá»“ng láº¥n khi di chuyá»ƒn
- âš ï¸ ChÆ°a cÃ³ undo/redo
- âš ï¸ KhÃ´ng lÆ°u lá»‹ch sá»­ thay Ä‘á»•i vÃ o database
- âš ï¸ ChÆ°a há»— trá»£ resize hÃ¬nh

### LÆ°u Ã
- LuÃ´n **lÆ°u** trÆ°á»›c khi thoÃ¡t cháº¿ Ä‘á»™ chá»‰nh sá»­a
- Náº¿u lÃ m sai, click **"Há»§y"** Ä‘á»ƒ reset
- Grid snapping hoáº¡t Ä‘á»™ng tá»‘t nháº¥t vá»›i lÆ°á»›i 50mm

---

## ğŸš€ TÃ­nh NÄƒng Sáº¯p Tá»›i (Roadmap)

- [ ] **Undo/Redo System** - HoÃ n tÃ¡c nhiá»u bÆ°á»›c
- [ ] **Keyboard Shortcuts** - PhÃ­m táº¯t Ä‘áº§y Ä‘á»§
- [ ] **Collision Detection** - Cáº£nh bÃ¡o khi hÃ¬nh chá»“ng láº¥n
- [ ] **Resize Handles** - Thay Ä‘á»•i kÃ­ch thÆ°á»›c hÃ¬nh
- [ ] **Group Selection** - NhÃ³m nhiá»u hÃ¬nh láº¡i
- [ ] **Copy/Paste** - Sao chÃ©p hÃ¬nh
- [ ] **Measurement Tools** - Äo khoáº£ng cÃ¡ch
- [ ] **Export to DXF** - Xuáº¥t file AutoCAD
- [ ] **History Log** - Lá»‹ch sá»­ thay Ä‘á»•i chi tiáº¿t

---

## ğŸ“¦ Files LiÃªn Quan

### Components
- `DraggableRectangle.js` - Component hÃ¬nh cÃ³ thá»ƒ kÃ©o
- `EditModeControls.js` - Báº£ng Ä‘iá»u khiá»ƒn chá»‰nh sá»­a
- `PackingResult.js` - Component chÃ­nh (Ä‘Ã£ cáº­p nháº­t)

### Utilities
- `geometryUtils.js` - HÃ m tiá»‡n Ã­ch hÃ¬nh há»c
- `DraggableStyles.css` - CSS cho drag & drop

### Updated Files
- `index.css` - ThÃªm class má»›i cho edit mode

---

## ğŸ’¡ Tips & Tricks

1. **CÄƒn Chá»‰nh Nhanh:** Chá»n táº¥t cáº£ hÃ¬nh cÃ¹ng loáº¡i â†’ CÄƒn trÃ¡i â†’ CÄƒn trÃªn
2. **Di Chuyá»ƒn Tinh:** Táº¯t auto-snap Ä‘á»ƒ di chuyá»ƒn chÃ­nh xÃ¡c pixel
3. **Kiá»ƒm Tra TrÆ°á»›c Khi LÆ°u:** Zoom out Ä‘á»ƒ xem toÃ n bá»™ layout trÆ°á»›c khi lÆ°u
4. **Snap With Confidence:** MÃ u xanh lÃ¡ = an toÃ n, hÃ¬nh Ä‘ang cÄƒn Ä‘Ãºng grid

---

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p lá»—i hoáº·c cÃ³ Ä‘á» xuáº¥t, vui lÃ²ng liÃªn há»‡ team phÃ¡t triá»ƒn hoáº·c táº¡o issue trÃªn repository.

---

**Version:** 2.0.0  
**Last Updated:** November 2025  
**Author:** Development Team