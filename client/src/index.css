@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import './styles/DraggableStyles.css';

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100 rounded;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-400;
}

/* Custom components */
@layer components {
  .btn-primary {
    @apply bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }
  
  .btn-secondary {
    @apply bg-gray-500 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:bg-gray-600 hover:shadow-lg hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }
  
  .btn-danger {
    @apply bg-red-500 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-lg hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }
  
  .card {
    @apply bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-xl border border-gray-100; 
  }
  
  .input-field {
    @apply w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-200 transition-all duration-300;
  }
  
  .label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  /* Edit Mode Specific Styles */
  .edit-mode-active {
    @apply cursor-crosshair;
  }

  .rectangle-item {
    @apply transition-all duration-150 ease-out;
  }

  .rectangle-item:hover {
    @apply z-40;
  }

  .rectangle-dragging {
    @apply z-50 cursor-grabbing;
  }

  .rectangle-selected {
    @apply ring-4 ring-yellow-400 ring-opacity-70 z-30;
  }
}

/* Custom utility for slow spin animation */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

/* Selection box for multi-select */
.selection-box {
  position: absolute;
  border: 2px dashed #3b82f6;
  background-color: rgba(59, 130, 246, 0.1);
  pointer-events: none;
  z-index: 999;
}

/* Snap guide animations */
@keyframes snap-guide-fade {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0;
  }
}

.snap-guide-animated {
  animation: snap-guide-fade 0.5s ease-in-out;
}

/* User select prevention during drag */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Custom scrollbar for edit panel */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: #cbd5e0 #f7fafc;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: #f7fafc;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: #a0aec0;
}

/* Tooltips */
.tooltip {
  @apply invisible opacity-0 transition-opacity duration-300;
}

.has-tooltip:hover .tooltip {
  @apply visible opacity-100;
}

/* Loading spinner for save operations */
@keyframes spin-fast {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.spinner {
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-left-color: #3b82f6;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  animation: spin-fast 1s linear infinite;
}

/* Keyboard hint badge */
.kbd {
  @apply inline-block px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-200 border border-gray-400 rounded shadow-sm;
}

/* Context menu styles */
.context-menu {
  @apply absolute bg-white rounded-lg shadow-2xl border border-gray-200 py-1 z-[10000];
  min-width: 180px;
}

.context-menu-item {
  @apply px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer flex items-center gap-2 transition-colors duration-150;
}

.context-menu-item.disabled {
  @apply opacity-50 cursor-not-allowed hover:bg-white;
}

.context-menu-divider {
  @apply h-px bg-gray-200 my-1;
}

/* Measurement display */
.measurement-display {
  @apply absolute bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded pointer-events-none z-50;
}

/* Grid overlay for precise positioning */
.grid-overlay {
  background-image: 
    repeating-linear-gradient(0deg, transparent, transparent 49px, rgba(0, 0, 0, 0.05) 49px, rgba(0, 0, 0, 0.05) 50px),
    repeating-linear-gradient(90deg, transparent, transparent 49px, rgba(0, 0, 0, 0.05) 49px, rgba(0, 0, 0, 0.05) 50px);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .context-menu {
    min-width: 150px;
  }
  
  .context-menu-item {
    @apply px-3 py-2 text-xs;
  }
}

/* Print styles (if needed for export) */
@media print {
  .no-print {
    display: none !important;
  }
  
  .card {
    box-shadow: none !important;
    border: 1px solid #e5e7eb !important;
  }
}